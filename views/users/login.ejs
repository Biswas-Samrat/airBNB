<% layout("/layouts/boilerplate") %>

<div id="wrapper">
  <h2 id="login-heading">Login</h2>
  <form
    id="login-form"
    action="/login"
    method="POST"
    class="needs-validation"
    novalidate
  >
    <div id="email-login-container ">
      <label id="email-login-label" for="username" class="form-label">
        <span>@</span>
      </label>
      <input
        name="username"
        id="email-input"
        placeholder="Username"
        type="text"
        class="form-control"
        required
      />
    </div>

    <div id="password-login-container">
      <label id="password-login-label" for="password" class="form-label">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height="24"
          viewBox="0 -960 960 960"
          width="24"
        >
          <path
            d="M240-80q-33 0-56.5-23.5T160-160v-400q0-33 23.5-56.5T240-640h40v-80q0-83 58.5-141.5T480-920q83 0 141.5 58.5T680-720v80h40q33 0 56.5 23.5T800-560v400q0 33-23.5 56.5T720-80H240Zm240-200q33 0 56.5-23.5T560-360q0-33-23.5-56.5T480-440q-33 0-56.5 23.5T400-360q0 33 23.5 56.5T480-280ZM360-640h240v-80q0-50-35-85t-85-35q-50 0-85 35t-35 85v80Z"
          />
        </svg>
      </label>
      <input
        type="password"
        name="password"
        id="password-input"
        placeholder="Password"
        class="form-control"
        required
      />
    </div>

    <button id="login-button" type="submit">Login</button>
  </form>
  <p id="login-link">New here? <a href="/signup">Create an Account</a></p>
</div>

<script>
  (() => {
    "use strict";

    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    const forms = document.querySelectorAll(".needs-validation");

    // Loop over them and prevent submission
    Array.from(forms).forEach((form) => {
      form.addEventListener(
        "submit",
        (event) => {
          if (!form.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
          }

          form.classList.add("was-validated");
        },
        false
      );
    });
  })();
</script>
